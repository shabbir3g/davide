"use strict";$(document).ready(function(){function e(e,t){s.on("scroll",function(){var o=1-s.scrollTop()*t;e.css("opacity",o)})}function t(e,t){e.each(function(){var e=$(this),o=e.data("os-animation"),n=e.data("os-animation-delay");e.css({"-webkit-animation-delay":n,"-moz-animation-delay":n,"animation-delay":n}),(t?e.closest(t):e).waypoint(function(){e.addClass("animated").addClass(o)},{triggerOnce:!0,offset:"75%"})})}function o(){for(var e=$(".block-square"),t=0;t<e.length;t++)$(e[t]).css("height",$(e[t]).innerWidth())}function n(e,t){function o(){var e=0;if(a.height("auto"),s.width()>767){for(var t=0;t<a.length;t++){var o=$(a[t]).innerHeight();o>e&&(e=o)}a.height(e)}}for(var n=0;n<$(e).length;n++){var a=$(t,$($(e)[n]));o(),s.on("resize",function(){o()})}}function a(){$(".responsive-text").bigtext()}function i(){l.css("padding-bottom",q.innerHeight())}$("body");var r=$("html, body"),s=$(window),l=$("#page-wrap"),c=$("#page-loader"),d=function(){var e=$(".section_fixed"),t=e.next(),o=e.innerHeight();t.addClass("section-padding").css({"margin-top":o}),e.length&&t.offset().top<s.scrollTop()?e.css({position:"absolute"}):e.css({position:"fixed"})};setTimeout(function(){c.addClass("page-loader_hide"),a(),s.width()>767&&(t($(".os-animation")),t($(".staggered-animation"),".staggered-animation-container"),e($(".intro__text, .intro__img, .presentation-line"),.0015),d(),s.on("scroll",d))},800);var u=$(".input");for(u.on("focus",function(){var e=$(this),t=($('.label_placeholder[for="'+e.attr("id")+'"]'),$(e).attr("placeholder"));e.addClass("focus").attr("placeholder",""),e.on("blur",function(){e.val()||e.removeClass("focus").attr("placeholder",t)})}),m=0;m<u.length;m++)""!=$(u[m]).val()&&$(u[m]).addClass("focus");$(".scroll-section").on("click",function(){var e=$(this).closest("section").innerHeight();r.animate({scrollTop:e},500)});var f=$(".header__menu");$(".header__menu-btn, .menu-overlay").on("click",function(){f.toggleClass("header__menu_opened")}),$(".image-popup").magnificPopup({type:"image",zoom:{enabled:!0}}),$(".video-popup").magnificPopup({type:"iframe"});for(var p=$(".gallery"),m=0;m<p.length;m++)$(p[m]).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0},zoom:{enabled:!0}});var g={type:"inline",removalDelay:200,fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,mainClass:"mfp-move-horizontal"};$(".popup-with-anim").magnificPopup(g);for(var v=function(e){g.items={src:e},$.magnificPopup.open(g)},h=$(".form"),m=0;m<h.length;m++)$(h[m]).validate({errorPlacement:function(e,t){},submitHandler:function(e){$.ajax({url:e.action,type:e.method,data:$(e).serialize(),success:function(){$.magnificPopup.close(),setTimeout(function(){v("#popup-success"),e.reset(),$(e).find(".input").removeClass("focus")},700)},error:function(){setTimeout(function(){v("#popup-success")},700)}})}});$.validator.addClassRules({required:{required:!0},email:{email:!0}});var _=$(".masonry"),y=!1;1==_.data("horizontal")&&(y=!0);var C=_.masonry({itemSelector:".masonry__item",columnWidth:".masonry__sizer",percentPosition:!0,horizontalOrder:y});C.imagesLoaded().progress(function(){a(),o(),n(".blocks-equal",".blocks-equal__item"),n(".grid__row",".grid__item"),C.masonry("layout")});var x=$("#filter"),b=$(".filter__item"),w=$(".filter-content"),k=$(".filter__toggle"),z=x.find(".filter__wrap"),P=z.find(".opened");b.on("click",function(){var e=$(this),t=e.data("target");b.removeClass("opened"),e.addClass("opened"),x.find(k).text(e.text()),"all"==t?w.show():(w.hide(),$(t).show()),C.masonry("layout")}),P.click(),k.text(P.text()).on("click",function(){z.slideToggle(200),k.toggleClass("opened"),$(document).mouseup(function(e){x.is(e.target)||k.is(e.target)||(z.slideUp(200),k.removeClass("opened"))})});var T=$(".jarallax");T.length&&T.jarallax({speed:.4}),$(".anchor").on("click",function(e){e.preventDefault();var t=$(this).attr("href");r.animate({scrollTop:$(t).offset().top-50},800)});var q=$("#footer");i(),s.on("resize",function(){i(),a(),o()});for(var H=$(".preview"),j=$(".cover__item"),I=function(e,t){var o=e.find(".active");o.removeClass("active"),o.next().length?o.next(j).addClass("active"):t.addClass("active")},m=0;m<H.length;m++){var B=$(H[m]),D=B.find(j);D.first().addClass("active"),D.length>1&&B.addClass("preview_active")}$(".preview_active").on("mouseenter",function(){var e=$(this),t=e.find(j).eq(0),o=setInterval(function(){I(e,t)},800);e.on("mouseleave",function(){clearInterval(o)})})});